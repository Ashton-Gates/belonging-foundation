
{% block content %}
{% load static %}

<head>
    <title>Applicant Dashboard</title>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">


<style>

.application-block {
  background-color: #fff; /* White background */
  /* Other styles for the block */
}

.application-block a {
  color: #007bff; /* Bootstrap primary color for links */
  /* Other styles for the links */
}

.application-block a:hover {
  color: #0056b3; /* Darker blue for hover state */
  text-decoration: none; /* Removes the underline on hover */
}
  /* Reset some basic elements */
body, h1, h2, h3, p, ul, li, a {
margin: 0;
padding: 0;
list-style: none;
text-decoration: none;
}
p{

text-align: left;

}

h2{
text-align: center;
}
/* Body and Font Styles */
body {
font-family: Arial, sans-serif;
line-height: 1.6;
margin: 0;
padding: 0;
}

.hamburger-menu {
float: right;
cursor: pointer;
}

/* Ensure the dropdown is hidden by default and only shown when the hamburger icon is clicked */
.hidden {
display: none;
}
/* This will show the nav-links when the hamburger menu is clicked */
.responsive {
display: block;
position: absolute;
width: 100%;
background-color: #333;
}



/* Style the sign-up form */
.signup-form {
color: white;
background-color: #333;
padding: 20px;
text-align: center;
}

.signup-form h2 {
margin-bottom: 20px;
}

.signup-form form {
max-width: 300px;
margin: auto;
}

.signup-form input[type="email"],
.signup-form input[type="text"] {
width: 100%;
padding: 10px;
margin-bottom: 10px;
border: 1px solid #ccc;
}

.signup-form button {
background-color: #007bff;
color: white;
padding: 10px 20px;
border: none;
cursor: pointer;
}

/* Button hover effect */
.signup-form button:hover {
background-color: #0056b3;
}
/* Footer Styles */
.footer {
background-color: #333;
color: white;
text-align: center;
padding: 10px 20px;
}

/* Responsive Styles */
@media screen and (max-width: 600px) {
.navbar a, .navbar .dropdown .dropbtn {
  display: none;
}

.navbar .hamburger-menu {
  display: block;
  height: 100%;
  width: 18.75em;
}

.navbar.responsive {position: relative;}
.navbar.responsive a.icon {
  position: absolute;
  right: 0;
  top: 0;
}
.navbar.responsive a {
  float: none;
  display: block;
  text-align: left;
}
}
/* Custom 'X' icon for closing */
.navbar-toggler.collapsed .close-icon {
display: none;
}

.navbar-toggler .navbar-toggler-icon {
display: inline-block; /* Show hamburger by default */
}

.navbar-toggler .close-icon {
display: none; /* Hide 'X' by default */
}

/* When the navbar is not collapsed, switch to 'X' and hide hamburger */
.navbar-toggler:not(.collapsed) .navbar-toggler-icon {
display: none;
}

.navbar-toggler:not(.collapsed) .close-icon {
display: inline-block;
}
.header-height {
height: 70px; /* Example header height, adjust as needed */
}

.feature-section {
padding: 3rem 0; /* Adjust the padding as needed */
background-image: url('keegan_steph.jpg');
background-size: cover;
background-position: center;
text-align: center;
padding: 100px 0; /* Adjust padding as needed */
}

.feature-section .container {
position: relative;
z-index: 2;
color: #fff; /* Or any color you want for the text */
}


.feature-section h1 {
font-size: 2.5rem; /* Adjust size as needed */
margin-bottom: 1rem;
}

.feature-section p {
margin-bottom: 2rem;
}

.feature-section .btn-primary {
background-color: #ff6f00; /* Adjust button color as needed */
border-color: #ff6f00; /* Adjust border color as needed */
padding: 0.75rem 1.5rem; /* Adjust button padding as needed */
}

.feature-section .btn-primary:hover {
background-color: #e65e00; /* Darken button on hover */
border-color: #e65e00;
box-shadow: 0 8px 15px rgba(0,0,0,0.3); /* Add shadow effect on hover */
transform: translateY(-2px); /* Raise the button slightly on hover */
}

/* Optional: If you want the shadow effect on hover for the entire section */
.feature-section:hover {
box-shadow: 0 8px 15px rgba(0,0,0,0.3); /* Shadow effect */
transform: translateY(-2px); /* Raise the section */
transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition for the effects */
}


/* Hero Section Styles */
.hero-section {
background-image: url('keegan_steph.jpg'); /* Replace with the path to your hero image */
background-size: cover;
background-position: center;
text-align: center;
position: relative;
color: white;
padding: 100px 0; /* Adjust padding to suit your content */
}

/* Overlay Content Styles */
.overlay-content {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
z-index: 2;
color: white;
text-align: center;
}

/* This will be your button inside the overlay */
.cta-button {
background-color: #ff6f00; /* Adjust the button color as needed */
border: none;
padding: 15px 30px;
font-size: 1.2em; /* Adjust font size as needed */
text-transform: uppercase;
text-decoration: none;
display: inline-block;
margin-top: 20px;
border: 1px solid white; /* Add a white border */
color: white; /* Text color */
text-decoration: none; /* Remove underlines */
border-radius: 5px; /* Optional: Add rounded corners */
justify-content: center;
display: flex;
align-items: center;
text-align: center;
}

/* Ensure the overlay content is above all other content */
.overlay-content .btn:hover {
background-color: #cc5800; /* Darken button on hover */
transition: background-color 0.3s ease;
}
/* Info Section Styles */
.info-section {
position: relative;
color: white;
text-align: center;
background-size: cover;
background-position: center;
/* Set individual background images for each section here */
}

.info-section:first-of-type {
background-image: url('Article_2.PNG');
}

.info-section:last-of-type {
background-image: url('Article_3.PNG');
}

.info-overlay {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
z-index: 2; /* Ensures the content is above the overlay */
/* Additional styling as needed */
}

.touts-container {
  display: block;
  margin-top: -10px; /* Adjusts the position upwards */
  position: relative;
  z-index: 1;
  padding: 0 10px; /* Adds padding on the left and right */
}

.row {
  margin: 0 auto;
  max-width: 75rem;
  width: calc(100% - 20px); 
}

.row:after {
  content: "";
  display: table;
  clear: both;
}
.feature-panel {
align-items: center;
background-color: #ff8566;
background-position: 50% 25%;
background-size: cover;
display: flex;
flex-wrap: wrap;
overflow: hidden;
padding: 5rem 0 6.25rem;
position: relative;
text-align: center;
}

.social-icons {
font-size: 24px;
}

.social-icons a {
margin: 0 10px;
color: white;
text-decoration: none;
}

.social-icons a:hover {
color: #ddd;
}




body{
background-color: #eee;

}
nav{
margin: 20px;
position: relative;
}
ul{
list-style: none;
display: flex;
align-items: center;
}
.display-picture{
margin-left: auto;
}
.display-picture img{
width: 50px;
border-radius: 50%;
border:2px solid #fff;
}
.display-picture img:hover{
border:2px solid #E78341;
}
.card{
transition: 0.5s ease;
}

.card ul{
display: flex;
align-items: flex-start;
flex-direction: column;
background: #E78341;
position: absolute;
top: 4rem;
right:0rem;
border-radius: 10px;
padding: 10px 50px 10px 20px;
}
.card ul li{

padding: 5px 0;
color: #FFF;
font-size: 14px;
}
.hidden{
display: none;
}
a{
text-decoration: none;
color:#fff;
}
/* Profile Image */
.navbar .nav-link img.rounded-circle {
border: 2px solid #fff;
transition: border-color 0.3s ease-in-out;
}

.navbar .nav-link img.rounded-circle:hover {
border-color: #E78341;
}

/* Dropdown Menu */
.dropdown-menu {
border-radius: 10px;
border: none;
box-shadow: 0 2px 10px rgba(0,0,0,.2);
}

/* Dropdown Item */
.dropdown-item:hover {
background-color: #E78341;
color: #FFF;
}
/* Google Sign in/Sign up styles */
.dropdown-item img {
margin-right: 8px; /* Space between the icon and text */
}

/* Adjustments for the dropdown item with icon */
.dropdown-item {
display: flex;
align-items: center;
}
.hidden {
display: none;
}

/* Additional styling for the dropdown card */
.card ul {
list-style: none;
/* Other styles... */
}

.card li a {
text-decoration: none;
color: white;
/* Other styles... */
}
@media screen and (max-width: 500px) {
  .navbar .hamburger-menu {
    display: block; /* Show hamburger menu */
    position: fixed; /* Fixed position to keep it visible */
    top: 0; /* Align to the top */
    right: 0; /* Align to the right */
    height: 4em; /* Adjust as needed */
    width: 4em; /* Adjust as needed */
    cursor: pointer; /* Change mouse pointer to indicate it's clickable */
    z-index: 1000; /* Make sure it's above other content */
  }

  .navbar a.icon {
    display: none; /* Hide the icon if not needed, or adjust as necessary */
  }

  .navbar.responsive {
    position: fixed; /* Fixed position to stay on screen */
    width: 100%; /* Full width */
    height: auto; /* Auto height based on content */
    top: 4em; /* Adjust based on the height of the hamburger menu */
    left: 0; /* Align to the left */
    flex-direction: column; /* Stack items vertically */
    z-index: 999; /* Under the hamburger menu but above other content */
  }

  .navbar.responsive a {
    float: none; /* Disable float */
    display: block; /* Stack links */
    text-align: center; /* Center text */
    padding: 10px; /* Add some padding */
    border-top: 1px solid #ddd; /* Add a border to separate items */
  }
}
</style>
<header>
  <!-- Bootstrap Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="/index/">
      {% load static %}
      <img src="{% static 'images/main_logo.png' %}" alt="Belonging Foundation Logo" style="max-height: 100px;">      
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent"
      aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ml-auto">          
        <li class="nav-item active">
          <a class="nav-link" href="/index/">Home</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="profileDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Login
          </a>
          <div class="dropdown-menu" aria-labelledby="profileDropdown">
            <a class="dropdown-item" href="{% url 'applicant:login' %}">Applicant Login</a>
            <a class="dropdown-item" href="/donation/donor_login/">Donor Login</a>
            <a class="dropdown-item" href="/referee/referee_login/">Sponsor Login</a>              


          </div>
        </li>
        <li class="nav-item" >
          <a class="nav-link" href="{% url 'auction:auction_dashboard' %}">Marketplace</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/donate/">Donate to Belonging</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about/">Who Are We?</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/involved/">Want to Get Involved?</a>
        </li>
        <!-- Other items -->
      </ul>
    </div>
  </nav>
</div>
</header>
<body>
    <div class="container mt-5">
        <h2 class="mb-4">Applications Available</h2>
        <div class="mb-3">
            <a href="/media/Pitch_Prep.pptx" download="Pitch_Prep.pptx" class="btn btn-primary">Download Pitch Deck Template</a>
        </div>
        <ul class="list-group mb-3">
            <li class="list-group-item"><a style='color:#333' href="{% url 'applicant:scholar_landing' %}">Apply for Scholarship</a></li>

            <li class="list-group-item"><a style='color:#333' href="{% url 'applicant:vendor_landing' %}">Apply as Vendor</a></li>
        </ul>

        <h3>Current Scholarships</h3>
        <div id="scholarshipCarousel" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <ul>
              {% for scholarship in scholarships %}
              <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <h4>{{ scholarship.title }}</h4>
                <p>{{ scholarship.description }}</p>
                <p>Grand Prize: {{ scholarship.grand_prize }}</p>
                <p>Second Prize: {{ scholarship.second_prize }}</p>
                <p>Third Place: {{ scholarship.third_place }}</p>
                <p>Deadline: {{ scholarship.deadline|date:"DATE_FORMAT" }}</p>
                <!-- DATE_FORMAT should be replaced with the actual date format you want to use, e.g. "N j, Y" for 'March 4, 2024' -->
              </div>
              {% endfor %}
            </ul>
          </div>
      </div>
      <h3 class="mt-5">Latest Submitted Scholarship Application</h3>
        {% if latest_scholarship_application %}
        <ul class="list-group mb-5">
            <li class="list-group-item application-block">
                {{ latest_scholarship_application.first_name }} {{ latest_scholarship_application.last_name }} - {{ latest_scholarship_application.business_description }} - <strong>Status:</strong> {{ latest_scholarship_application.status }}
                <a href="{% url 'download_scholarship_pdf' latest_scholarship_application.id %}">Download Scholarship Application PDF</a>
                {% if application.scholarship.deadline > now %}
                    <a href="{% url 'withdraw_application' application.id %}">Withdraw Application</a>
                {% endif %}
            </li>
        </ul>
        {% else %}
            <p>No scholarship applications available.</p>
        {% endif %}
        <h3 class="mt-5">Latest Submitted Vendor Application</h3>
        {% if latest_vendor_application %}
            <ul class="list-group mb-5">
                <li class="list-group-item application-block">
                    {{ latest_vendor_application.first_name }} {{ latest_vendor_application.last_name }} - {{ latest_vendor_application.business_description }} - <strong>Status:</strong> {{ latest_vendor_application.status }}
                    <a href="{% url 'download_vendor_pdf' latest_vendor_application.id %}">Download Vendor Application PDF</a>
                    {% if application.scholarship.deadline > now %}
                        <a href="{% url 'withdraw_application' application.id %}">Withdraw Application</a>
                    {% endif %}
                
                </li>
            </ul>
        {% else %}
            <p>No vendor applications available.</p>
        {% endif %}


        <div class="mb-5">
            <a href="/involved/" class="btn btn-secondary">Back to Scholarship</a>
            <a href="{% url 'applicant:logout' %}" class="btn btn-secondary">Logout</a>
            <a href="{% url 'applicant:delete_account' %}" class="btn btn-warning">Delete Account</a>

        </div>
    </div>

    <!-- Include Bootstrap JS and its dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Include your existing script for fetching applications -->
        <script>
            function fetchApplications() {
              fetch('/internal/get-latest-applications/')
                .then(response => response.json())
                .then(data => {
                  // Assume you have a div with id="applications-list" to display applications
                  const applicationsList = document.getElementById('applications-list');
                  applicationsList.innerHTML = ''; // Clear current list
                  data.forEach(app => {
                    // Create a new element for each application and add it to the list
                    // This is a basic example; you might need to adjust based on your data structure
                    const appElement = document.createElement('div');
                    appElement.textContent = `Application ID: ${app.id}, Submitted: ${app.date_submitted}`;
                    applicationsList.appendChild(appElement);
                  });
                })
                .catch(error => console.error('Error fetching new applications:', error));
            }
            
            // Poll for new applications every 30 seconds
            setInterval(fetchApplications, 60000);
            
            // Also, fetch applications on page load
            document.addEventListener('DOMContentLoaded', fetchApplications);
            </script>
</body>
{% endblock %}
